<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Starfleet Academy</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root {
  --gold: #ffd47a;
  --blue: #4ab0ff;
  --green: #00cc66;
  --red: #cc0033;
  --dark-blue: #001933;
  --black: #000;
  --text: #f3f3f3;
}

html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: var(--black);
  font-family: 'Roboto', sans-serif;
  color: var(--text);
  overflow-x: hidden;
}

@font-face {
  font-family: 'Final Frontier';
  src: url('https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Final_Frontier.ttf') format('truetype');
}

.page-title {
  font-family: 'Orbitron', sans-serif;
  font-size: 34pt;
  color: var(--gold);
  text-align: center;
  margin: 15px 0 8px;
}

#loginScreen {
  position: relative;
  height: 100vh;
  width: 100%;
  background: url("Starfleet Academy - San Francisco.gif") no-repeat center center fixed;
  background-size: cover;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 0;
  opacity: 1;
  transition: opacity 3s ease-out;
}

#loginScreen.fade-out {
  opacity: 0;
}

.lcars-top, .lcars-bottom {
  position: absolute;
  left: 0;
  width: 100%;
  background: var(--gold);
  font-family: 'Final Frontier', sans-serif;
  font-size: 24pt;
  color: #001933;
  display: flex;
  align-items: center;
  justify-content: center;
  text-transform: uppercase;
  font-weight: bold;
}

.lcars-top {
  top: 0;
  height: 50px;
  border-bottom-left-radius: 50px;
}

.lcars-bottom {
  bottom: 0;
  height: 40px;
  border-top-left-radius: 50px;
}

.glass-panel {
  background: rgba(30, 40, 60, 0.125);
  backdrop-filter: blur(20px) saturate(180%);
  border: 2px solid var(--gold);
  border-radius: 18px;
  box-shadow: 0 0 25px rgba(255, 212, 122, 0.4),
              inset 0 0 35px rgba(74, 176, 255, 0.2);
  padding: 40px 50px;
  width: 680px;
  text-align: center;
  animation: panelFadeIn 1.4s ease-in-out;
  color: var(--text);
}

@keyframes panelFadeIn {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}

.login-subtext {
  font-size: 13pt;
  letter-spacing: 1px;
  color: #ffffff;
  text-shadow: 0 0 8px rgba(74, 176, 255, 0.9);
  margin-bottom: 18px;
}

.lcars-divider {
  height: 4px;
  width: 80%;
  margin: 0 auto 20px;
  background: linear-gradient(to right, var(--gold), var(--blue));
  border-radius: 2px;
}

label {
  display: block;
  color: #ffffff;
  font-size: 14pt;
  margin-bottom: 6px;
  text-align: left;
}

label[for="cadetName"] {
  text-align: center;
  width: 100%;
  display: block;
}

input, select {
  width: 100%;
  padding: 12px;
  margin-bottom: 18px;
  background: rgba(0, 0, 0, 0.45);
  border: 1px solid var(--blue);
  color: #ffffff;
  font-size: 14pt;
  border-radius: 6px;
}

#cadetName {
  width: 50%;
  margin: 0 auto 18px;
  display: block;
}

::placeholder {
  color: rgba(255, 255, 255, 0.7);
}

button {
  font-family: 'Orbitron', sans-serif;
  background: linear-gradient(to bottom, #003366, #001933);
  border: 2px solid var(--gold);
  color: var(--gold);
  font-size: 14pt;
  border-radius: 10px;
  padding: 10px 20px;
  margin: 8px;
  cursor: pointer;
  box-shadow: inset 0 6px 8px rgba(255, 255, 255, 0.06),
              inset 0 -6px 10px rgba(0, 0, 0, 0.6),
              0 6px 12px rgba(0, 0, 0, 0.9);
  transition: transform .2s, box-shadow .2s;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: inset 0 6px 10px rgba(255, 255, 255, 0.08),
              inset 0 -6px 12px rgba(0, 0, 0, 0.7),
              0 14px 28px rgba(0, 0, 0, 1);
}

button:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.corner-image {
  position: fixed;
  width: 2.5in;
  height: 2.5in;
  object-fit: contain;
  pointer-events: none;
  z-index: 10;
}

.corner-left { top: 10px; left: 10px; }
.corner-right { top: 10px; right: 10px; }

#mainScreen {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  height: 100vh;
  width: 100%;
  text-align: center;
}

#mainScreen .container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 90vh;
  max-height: 90vh;
  padding: 20px 40px;
  box-sizing: border-box;
  overflow: hidden;
  margin-top: -40px;
}

#mainScreen .container p {
  margin: 5px 0;
  font-size: 13pt;
  line-height: 1.4;
}

.department-select-box {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  justify-items: center;
  align-items: center;
  max-width: 700px;
  margin: 0 auto;
  background: rgba(0, 0, 0, 0.8);
  border: 2px solid var(--gold);
  border-radius: 12px;
  padding: 30px;
  box-shadow: 0 0 15px var(--blue);
}

.km-button-box {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 10px;
}
  </style>
</head>

<body>
   <div id="loginScreen">
    <div class="lcars-top">Starfleet Academy - Established 2161</div>
    <div class="lcars-bottom">Ex Astris Scientia</div>
    <div class="container glass-panel">
      <div class="page-title">STARFLEET ACADEMY</div>
      <p class="login-subtext">Authorization required for Federation access</p>
      <div class="lcars-divider"></div>
      <label for="cadetName">Cadet Name</label>
      <input type="text" id="cadetName" required placeholder="Enter full designation">
      <label for="species">Species</label>
      <select id="species" required>
        <option value="">-- Select Species --</option>
        <option>Human</option>
        <option>Vulcan</option>
        <option>Andorian</option>
        <option>Aenar</option>
        <option>Tellarite</option>
        <option>Bajoran</option>
        <option>Betazoid</option>
        <option>Bolian</option>
        <option>Trill</option>
        <option>Klingon</option>
        <option>Ferengi</option>
        <option>Denobulan</option>
        <option>Orion</option>
        <option>Caitian</option>
        <option>Benzite</option>
      </select>
      <button id="loginBtn">Initiate Access Protocol</button>
      <div id="accessMessage" class="glow-message">Authenticating...</div>
    </div>
  </div>

  <div id="mainScreen" style="display:none;">
    <img src="https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Starfleet%20Academy%20Orientation.png" class="corner-image corner-left" alt="">
    <img src="https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Starfleet%20Academy%20Orientation.png" class="corner-image corner-right" alt="">
    <div class="container">
      <div class="page-title">Welcome to Starfleet Academy</div>
      <div id="mainWelcome" style="font-size:17pt;margin-bottom:10px;"></div>
      <p style="color:#fff;text-align:center;max-width:800px;">
        Congratulations, Cadet. You have been accepted into Starfleet Academy,
        where the finest minds of the Federation prepare to serve in the vast
        frontier of space. Here, you will learn the disciplines of command,
        diplomacy, science, engineering, medicine, and security — each a vital
        pillar in the exploration and defense of the Federation.
      </p>
      <p style="color:#fff;text-align:center;max-width:800px;">
        Choose your discipline and commence your studies by selecting the "Study" button below.
        When you have completed your studies, return to this console and select the "Labs" button
        to evaluate your proficiency. Upon completion of all lab modules, return again to this console
        and select the "Exams" button to complete your academic requirements.
      </p>
      <p style="color:#fff;text-align:center;max-width:800px;">
        Prior to graduation, all cadets are required to undertake the "Kobayashi Maru" simulation — 
        a no-win scenario designed to test your command character. Your performance in this exercise 
        does not affect your eligibility for graduation.
      </p>
      <p style="color:#fff;text-align:center;margin-top:8px;">Good luck, Cadet.</p>

      <div class="department-select-box">
        <button id="trainingBtn" style="width:180px;">Study</button>
        <button id="labBtn" style="width:180px;">Labs</button>
        <button id="examBtn" style="width:180px;" disabled>Exams</button>
      </div>

      <div class="km-button-box">
        <button id="finalExamBtn" style="width:260px;" disabled>Kobayashi Maru - Locked</button>
      </div>
    </div>
  </div>

  <div id="orientationPage" style="display:none;text-align:center;">
    <div class="page-title" id="orientationTitle"></div>
    <div id="moduleButtons" class="department-select-box"></div>
    <button id="returnMain" class="fixed-return">Return to Main</button>
  </div>

  <div id="trainingPage" style="display:none;text-align:center;">
    <div class="page-title" id="trainingDeptTitle"></div>
    <div id="trainingCadetInfo" style="font-size:16pt;color:var(--gold);margin-bottom:20px;"></div>
    <div id="trainingContent" style="max-width:1000px;margin:0 auto;text-align:left;padding:20px;background:rgba(0,0,0,0.8);border:2px solid var(--gold);border-radius:12px;box-shadow:0 0 15px var(--blue);"></div>
    <button id="returnOrientationTrain" class="fixed-return">Return to Departments</button>
  </div>

  <div id="labPage" style="display:none;text-align:center;">
    <div class="page-title" id="labDeptTitle"></div>
    <div id="labCadetInfo" style="font-size:16pt;color:var(--gold);margin-bottom:20px;"></div>
    <div id="labContent" style="max-width:1000px;margin:0 auto;text-align:left;padding:20px;background:rgba(0,0,0,0.8);border:2px solid var(--gold);border-radius:12px;box-shadow:0 0 15px var(--blue);"></div>
    <button id="returnOrientationLab" class="fixed-return">Return to Departments</button>
  </div>

  <div id="examPage" style="display:none;text-align:center;">
    <div class="page-title" id="examDeptTitle"></div>
    <div id="examCadetInfo" style="font-size:16pt;color:var(--gold);margin-bottom:20px;"></div>
    <div id="examContent" style="max-width:1000px;margin:0 auto;text-align:left;padding:20px;background:rgba(0,0,0,0.8);border:2px solid var(--gold);border-radius:12px;box-shadow:0 0 15px var(--blue);"></div>
    <button id="returnOrientationExam" class="fixed-return">Return to Departments</button>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const departments = ["Command", "Diplomacy", "Engineering", "Security", "Science", "Medical"];
      const trainingFiles = Object.fromEntries(departments.map(d => [d, `https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/${d}%20Training.json`]));
      const labFiles = Object.fromEntries(departments.map(d => [d, `https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/${d}%20Lab.json`]));
      const examFiles = Object.fromEntries(departments.map(d => [d, `https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/${d}%20Exam.json`]));
      const progress = { labs: {}, exams: {} };

      const homeworlds = {
        "Human": "Earth","Vulcan": "Vulcan","Andorian": "Andoria","Aenar": "Andoria","Tellarite": "Tellar Prime",
        "Bajoran": "Bajor","Betazoid": "Betazed","Bolian": "Bolarus IX","Trill": "Trill","Klingon": "Qo'noS",
        "Ferengi": "Ferenginar","Denobulan": "Denobula","Orion": "Orion","Caitian": "Cait","Benzite": "Benzar"
      };

      let cadetName = "", species = "";
      const examBtn = document.getElementById("examBtn");
      const finalExamBtn = document.getElementById("finalExamBtn");

      function checkProgress() {
        const allLabsDone = departments.every(d => progress.labs[d]);
        const allExamsDone = departments.every(d => progress.exams[d]);
        if (allLabsDone) examBtn.disabled = false;
        if (allLabsDone && allExamsDone) {
          finalExamBtn.disabled = false;
          finalExamBtn.textContent = "Kobayashi Maru - Available";
        }
      }

      document.getElementById("loginBtn").addEventListener("click", () => {
        cadetName = document.getElementById("cadetName").value.trim();
        species = document.getElementById("species").value;
        if (!cadetName || !species) return alert("Enter name and species first.");

        const msg = document.getElementById("accessMessage");
        msg.textContent = `Access Link Established — Welcome, Cadet ${cadetName} of ${homeworlds[species]}.`;
        msg.classList.add("active");

        setTimeout(() => {
          const login = document.getElementById("loginScreen");
          login.classList.add("fade-out");
          setTimeout(() => {
            login.style.display = "none";
            const main = document.getElementById("mainScreen");
            main.style.display = "block";
            main.classList.add("fade-in");
            document.getElementById("mainWelcome").textContent = `Welcome, Cadet ${cadetName} of ${homeworlds[species]}.`;
          }, 3000);
        }, 4000);
      });

      document.getElementById("trainingBtn").onclick = () => openOrientation("training");
      document.getElementById("labBtn").onclick = () => openOrientation("lab");
      document.getElementById("examBtn").onclick = () => openOrientation("exam");

      function openOrientation(mode) {
        document.getElementById("mainScreen").style.display = "none";
        const title = document.getElementById("orientationTitle");
        title.textContent = mode === "lab"
          ? "Select Lab Department"
          : mode === "exam"
          ? "Select Exam Department"
          : "Select Study Department";
        const btnBox = document.getElementById("moduleButtons");
        btnBox.innerHTML = "";
        departments.forEach(dept => {
          const b = document.createElement("button");
          b.textContent = dept;
          b.onclick = () => {
            mode === "training"
              ? loadTraining(dept)
              : mode === "lab"
              ? loadLab(dept)
              : loadExam(dept);
          };
          btnBox.appendChild(b);
        });
        const orientation = document.getElementById("orientationPage");
        orientation.style.display = "flex";
        orientation.style.flexDirection = "column";
        orientation.style.justifyContent = "center";
        orientation.style.alignItems = "center";
        orientation.style.height = "100vh";
        orientation.style.overflow = "hidden";
      }

      document.getElementById("returnMain").onclick = () => {
        document.getElementById("orientationPage").style.display = "none";
        document.getElementById("mainScreen").style.display = "block";
        checkProgress();
      };

      document.getElementById("returnOrientationTrain").onclick = () => {
        document.getElementById("trainingPage").style.display = "none";
        document.getElementById("orientationPage").style.display = "block";
      };

      document.getElementById("returnOrientationLab").onclick = () => {
        document.getElementById("labPage").style.display = "none";
        document.getElementById("orientationPage").style.display = "block";
        checkProgress();
      };

      document.getElementById("returnOrientationExam").onclick = () => {
        document.getElementById("examPage").style.display = "none";
        document.getElementById("orientationPage").style.display = "block";
        checkProgress();
      };
      async function loadTraining(dept) {
        document.getElementById("orientationPage").style.display = "none";
        document.getElementById("trainingPage").style.display = "block";
        document.getElementById("trainingDeptTitle").textContent = `${dept} Study`;
        document.getElementById("trainingCadetInfo").textContent = `Cadet ${cadetName} of ${homeworlds[species]}`;
        const content = document.getElementById("trainingContent");
        content.innerHTML = "<p>Loading...</p>";
        const res = await fetch(trainingFiles[dept]);
        const data = await res.json();
        content.innerHTML = "";
        data.study?.forEach(item => {
          const section = document.createElement("div");
          section.className = "training-section";
          const header = document.createElement("div");
          header.className = "training-header-bar";
          header.textContent = `${dept.toUpperCase()} DIVISION`;
          section.appendChild(header);
          const scenario = document.createElement("h3");
          scenario.textContent = item.scenario;
          section.appendChild(scenario);
          const summary = document.createElement("p");
          summary.textContent = item.summary;
          section.appendChild(summary);
          const answersDiv = document.createElement("div");
          answersDiv.className = "training-answers";
          item.answers.forEach((ans, i) => {
            const p = document.createElement("p");
            const strong = document.createElement("strong");
            strong.style.color = i === 0 ? "green" : i === 1 ? "yellow" : "red";
            strong.textContent = ans.text;
            const span = document.createElement("span");
            span.textContent = ans.details;
            p.appendChild(strong);
            p.appendChild(span);
            answersDiv.appendChild(p);
          });
          section.appendChild(answersDiv);
          content.appendChild(section);
        });
      }

      async function loadLab(dept) {
        document.getElementById("orientationPage").style.display = "none";
        document.getElementById("labPage").style.display = "block";
        document.getElementById("labDeptTitle").textContent = `${dept} Lab`;
        document.getElementById("labCadetInfo").textContent = `Cadet ${cadetName} of ${homeworlds[species]}`;
        const content = document.getElementById("labContent");
        content.innerHTML = "<p>Loading...</p>";
        const res = await fetch(labFiles[dept]);
        const data = await res.json();
        const items = data.lab || [];
        let currentIndex = 0;
        showScenario(currentIndex);

        function showScenario(i) {
          const item = items[i];
          content.innerHTML = `<div class="training-section"><h3>${item.scenario}</h3><p>${item.summary || ""}</p></div>`;
          const answersDiv = document.createElement("div");
          answersDiv.className = "lab-answers";
          [...item.answers].sort(() => Math.random() - 0.5).forEach(ans => {
            const btn = document.createElement("button");
            btn.textContent = ans.text;
            btn.onclick = () => {
              answersDiv.querySelectorAll("button").forEach(b => b.disabled = true);
              const feedback = document.createElement("div");
              feedback.className = "feedback";
              feedback.innerHTML = ans.type === "best"
                ? `<span class='best-answer'>✅ Correct — Best Answer!</span><p>${ans.details}</p>`
                : `<span class='incorrect-answer'>❌ Incorrect</span><p>${item.answers.find(a => a.type==='best').text}</p>`;
              const next = document.createElement("button");
              next.textContent = i < items.length - 1 ? "Next Scenario ➡️" : "Return to Departments";
              next.onclick = () => {
                if (i < items.length - 1) showScenario(i + 1);
                else {
                  progress.labs[dept] = true;
                  document.getElementById("labPage").style.display = "none";
                  document.getElementById("orientationPage").style.display = "block";
                  checkProgress();
                }
              };
              feedback.appendChild(next);
              answersDiv.appendChild(feedback);
            };
            answersDiv.appendChild(btn);
          });
          content.appendChild(answersDiv);
        }
      }

      async function loadExam(dept) {
        document.getElementById("orientationPage").style.display = "none";
        document.getElementById("examPage").style.display = "block";
        document.getElementById("examDeptTitle").textContent = `${dept} Exam`;
        document.getElementById("examCadetInfo").textContent = `Cadet ${cadetName} of ${homeworlds[species]}`;
        const content = document.getElementById("examContent");
        content.innerHTML = "<p>Loading...</p>";
        const res = await fetch(examFiles[dept]);
        const data = await res.json();
        const items = data.exam || [];
        let currentIndex = 0;
        showQuestion(currentIndex);

        function showQuestion(i) {
          const item = items[i];
          content.innerHTML = `<div class="training-section"><h3>${item.scenario}</h3></div>`;
          const answersDiv = document.createElement("div");
          answersDiv.className = "exam-answers";
          [...item.answers].forEach(ans => {
            const btn = document.createElement("button");
            btn.textContent = ans.text;
            btn.onclick = () => {
              answersDiv.querySelectorAll("button").forEach(b => b.disabled = true);
              const feedback = document.createElement("div");
              feedback.className = "feedback";
              feedback.innerHTML = ans.type === "best"
                ? `<span class='best-answer'>✅ Correct — Best Answer!</span><p>${ans.details}</p>`
                : `<span class='incorrect-answer'>❌ Incorrect</span><p>${item.answers.find(a => a.type==='best').text}</p>`;
              const next = document.createElement("button");
              next.textContent = i < items.length - 1 ? "Next Question ➡️" : "Return to Departments";
              next.onclick = () => {
                if (i < items.length - 1) showQuestion(i + 1);
                else {
                  progress.exams[dept] = true;
                  document.getElementById("examPage").style.display = "none";
                  document.getElementById("orientationPage").style.display = "block";
                  checkProgress();
                }
              };
              feedback.appendChild(next);
              answersDiv.appendChild(feedback);
            };
            answersDiv.appendChild(btn);
          });
          content.appendChild(answersDiv);
        }
      }

      finalExamBtn.disabled = false;
      finalExamBtn.textContent = "Kobayashi Maru - Engage";
      finalExamBtn.onclick = () => {
        const name = encodeURIComponent(cadetName);
        setTimeout(() => {
          window.open(
            `https://bigbird7827.github.io/Starfleet_Academy/Final_exam/Final_Exam.html?name=${name}&cachebust=${Date.now()}`,
            "_blank",
            "noopener"
          );
          window.location.href = "about:blank";
        }, 100);
      };
    });
  </script>
</body>
</html>






