<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Starfleet Academy</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root { --gold:#ffd84d; }
    html, body { height:100%; }
    body {
      margin:0; padding:0;
      font-family:'Roboto', sans-serif;
      background:url("Starfleet Academy Logo.jpeg") no-repeat center center fixed;
      background-size:cover;
      color:var(--gold);
      min-height:100vh;
    }
    .page-title {
      margin-top:40px; margin-bottom:30px;
      font-family:'Orbitron', sans-serif;
      font-size:42pt; color:gold;
      text-align:center;
    }
    .container {
      background:rgba(0,0,0,0.8);
      padding:20px 30px;
      border-radius:12px;
      box-shadow:0 0 20px var(--gold);
      width:900px;
      margin:0 auto;
      text-align:left;
    }
    #mainScreen .container { width:500px; }
    label{ display:block; margin:12px 0 5px; }
    input,select,button{ width:100%; padding:8px; margin-bottom:15px; border:none; border-radius:6px; }
    input,select{ background:#333; color:#fff; font-family:'Roboto', sans-serif; }
    button{
      background:linear-gradient(to bottom,#1e3c72,#000000);
      color:var(--gold); font-weight:bold;
      border:2px solid var(--gold); cursor:pointer;
      box-shadow:inset 0 2px 5px rgba(255,255,255,.3), 0 5px 15px rgba(0,0,0,.6);
      font-family:'Roboto', sans-serif;
    }
    button:hover{ background:linear-gradient(to bottom,#2a5298,#111); transform:translateY(-2px); }
    body.orientation { background:#000 !important; overflow:hidden; }
    body.orientation.allow-scroll { overflow-y:auto; }
    .corner-image{ position:fixed; width:2.5in; height:2.5in; top:10px; object-fit:contain; z-index:0; pointer-events:none; }
    .corner-left{ left:10px; } .corner-right{ right:10px; }
    .orientation-root{ position:relative; z-index:1; display:flex; flex-direction:column; align-items:center; margin:0 auto; }
    .orientation-title{ font-family:'Orbitron', sans-serif; font-size:32pt; margin-top:60px; margin-bottom:20px; text-align:center; color:gold; }
    .orientation-text{ max-width:800px; margin:0 auto 40px auto; padding:0 20px; font-size:16pt; line-height:1.5em; text-align:center; font-family:'Roboto', sans-serif; }
    .button-box{ margin-top:30px; display:grid; grid-template-columns:1fr 1fr; gap:20px; background:rgba(0,0,0,0.4); padding:30px; border-radius:12px; box-shadow:0 0 15px var(--gold); }
    .button-box button{ font-size:20pt; padding:15px 25px; border-radius:12px; width:auto; }
    .return-btn{ padding:10px 25px; font-size:14pt; width:auto; margin-top:20px; }
    #trainingPage { display:none; padding:20px; height:100vh; overflow-y:auto; -webkit-overflow-scrolling:touch; }
    .training-title { font-family:'Orbitron', sans-serif; font-size:28pt; margin-bottom:20px; text-align:center; color:gold; }
    .training-section { margin-bottom:35px; padding-bottom:20px; border-bottom:1px solid #444; }
    .training-section h3 { font-family:'Roboto', sans-serif; font-size:15pt; margin-bottom:10px; color:var(--gold); }
    .training-section p { font-size:14pt; line-height:1.6em; margin:0 0 10px 0; color:#fff; }
    .answers { margin-left:20px; }
    .answer-block { margin-bottom:15px; padding:10px; background:rgba(255,255,255,0.05); border-radius:8px; }
    .answer-block strong { color:#00ffcc; }
    .answer-block p { color:#fff; }
    #trainingPage::-webkit-scrollbar { width:10px; }
    #trainingPage::-webkit-scrollbar-track { background:#111; }
    #trainingPage::-webkit-scrollbar-thumb { background:#555; border-radius:8px; border:2px solid #111; }
    #trainingPage::-webkit-scrollbar-thumb:hover { background:#888; }
    .fixed-return { position:fixed; bottom:20px; left:20px; z-index:1000; width:auto; }
  </style>
</head>
<body>
  <div id="mainScreen">
    <div class="page-title">Welcome to Starfleet Academy</div>
    <div class="container">
      <form id="entryForm">
        <label for="name">Cadet Name</label>
        <input type="text" id="name" required>
        <label for="species">Species</label>
        <select id="species" required>
          <option value="">-- Select Species --</option>
          <option>Human</option><option>Vulcan</option><option>Andorian</option>
          <option>Tellarite</option><option>Bajoran</option><option>Betazoid</option>
          <option>Bolian</option><option>Trill</option><option>Klingon</option><option>Ferengi</option>
        </select>
        <label for="department">Desired Department</label>
        <select id="department" required>
          <option value="">-- Select Department --</option>
          <option>Command</option><option>Diplomacy</option>
          <option>Engineering</option><option>Science</option>
          <option>Medical</option><option>Security</option>
        </select>
        <button type="submit">Enter Academy</button>
      </form>
    </div>
  </div>
  <div id="orientationPage" style="display:none;">
    <img src="Starfleet Academy Orientation.png" class="corner-image corner-left" alt="">
    <img src="Starfleet Academy Orientation.png" class="corner-image corner-right" alt="">
    <div class="orientation-root">
      <div class="orientation-title">Welcome to Starfleet Orientation</div>
      <div class="orientation-text">Congratulations on your acceptance to Starfleet Academy. Select a department to begin training.</div>
      <div class="button-box" id="moduleButtons"></div>
      <button class="return-btn" id="returnMain">Return to Main</button>
    </div>
  </div>
  <div id="trainingPage">
    <div class="page-title">Starfleet Academy Training</div>
    <div class="container">
      <div class="training-title" id="trainingDeptTitle"></div>
      <div id="trainingContent"></div>
    </div>
    <button class="return-btn fixed-return" id="returnOrientation">Back to Modules</button>
  </div>
  <script>
    const trainingFiles = {
      "Command": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Command%20Training.json",
      "Diplomacy": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Diplomacy%20Training.json",
      "Engineering": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Engineering%20Training.json",
      "Science": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Science%20Training.json",
      "Medical": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Medical%20Training.json",
      "Security": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Security%20Training.json"
    };
    const prefaces = {
      "Command": "Command is not about absolute authority; it is about absolute responsibility. Every decision you make will weigh the balance of lives, mission objectives, and Federation principles. In this training, remember at all times: you are the captain. Orders must be clear, discipline must be firm but fair, and the Federation flag you carry demands integrity at all times. You will be tested not only on your ability to win but also on your ability to lead when victory is impossible — the very essence of the Kobayashi Maru.",
      "Diplomacy": "Diplomacy is the Federation’s first line of defense. As a cadet in this simulation, you step into the captain’s role, responsible for every word and gesture. You must learn to listen as carefully as you speak, to negotiate from strength without arrogance, and to recognize when compromise honors our ideals more than confrontation. Remember: as captain, your words may avert wars, your patience may save lives, and your restraint may preserve the values of the Federation.",
      "Engineering": "Starfleet ships are the finest vessels in the galaxy, but even they are only as strong as their engineers. In this training, you will serve as the Chief Engineer. You are responsible for directing damage control, enforcing safety protocols, and keeping the vessel operational. Your ingenuity and clarity of command can spell the difference between survival and disaster.",
      "Science": "Exploration is the Federation’s mandate, and science is its spearhead. As the Science Officer in this module, you must interpret data, weigh theories against risk, and decide when curiosity must yield to caution. Scientific opportunities will tempt you with discovery, but never lose sight of your command role. You are responsible for balancing the pursuit of knowledge with the safety of your crew and adherence to Federation law.",
      "Medical": "As Chief Medical Officer, you are responsible for the health and safety of every crew member. In this training, you will manage medical crises, triage, and preventive care. Your judgment must combine empathy, technical expertise, and decisive action under pressure to uphold Starfleet’s commitment to life.",
      "Security": "As Chief of Security, you oversee the safety of the ship and crew, including weapons systems, phasers, and photon torpedoes. You must maintain order, enforce protocols, and respond to threats with calculated precision, balancing defensive measures with operational priorities."
    };
    document.getElementById("entryForm").addEventListener("submit", e=>{
      e.preventDefault();
      document.getElementById("mainScreen").style.display="none";
      document.body.classList.add("orientation");
      document.getElementById("orientationPage").style.display="block";
      const btnBox=document.getElementById("moduleButtons"); btnBox.innerHTML="";
      Object.keys(trainingFiles).forEach(dept=>{
        const b=document.createElement("button");
        b.textContent=dept;
        b.onclick=()=>loadTraining(dept);
        btnBox.appendChild(b);
      });
    });
    function loadTraining(dept){
      document.getElementById("orientationPage").style.display="none";
      document.getElementById("trainingPage").style.display="block";
      document.body.classList.add("allow-scroll");
      document.getElementById("trainingDeptTitle").textContent = `${dept} Training`;
      const content=document.getElementById("trainingContent");
      content.innerHTML="<p>Loading training material...</p>";
      fetch(trainingFiles[dept])
        .then(r=>r.json())
        .then(data=>{
          content.innerHTML="";
          if(prefaces[dept]){
            const preface=document.createElement("div");
            preface.className="training-section";
            preface.innerHTML = `<p>${prefaces[dept]}</p>`;
            content.appendChild(preface);
          }
          if(data.study){
            data.study.forEach(item=>{
              const section=document.createElement("div");
              section.className="training-section";
              const summaryText = item.summary ? item.summary : "(No summary available)";
              let html = `<h3>${item.scenario}</h3><p>${summaryText}</p>`;
              if(item.answers){
                html += `<div class="answers">`;
                item.answers.forEach(ans=>{
                  const label = ans.type === "best" ? "⭐ Best Answer" : "Alternate Answer";
                  html += `
                    <div class="answer-block">
                      <p><strong>${label}:</strong> ${ans.text}</p>
                      <p><em>Score:</em> ${ans.score}</p>
                      <p>${ans.details || ""}</p>
                    </div>
                  `;
                });
                html += `</div>`;
              }
              section.innerHTML = html;
              content.appendChild(section);
            });
          } else {
            content.innerHTML = "<p>No training items found.</p>";
          }
        })
        .catch(err=>{
          console.error("Error loading training material:",err);
          content.innerHTML="<p>Failed to load training material.</p>";
        });
    }
    document.getElementById("returnMain").addEventListener("click",()=>{
      document.getElementById("orientationPage").style.display="none";
      document.body.classList.remove("orientation","allow-scroll");
      document.getElementById("mainScreen").style.display="block";
    });
    document.getElementById("returnOrientation").addEventListener("click",()=>{
      document.getElementById("trainingPage").style.display="none";
      document.getElementById("orientationPage").style.display="block";
      document.body.classList.remove("allow-scroll");
    });
  </script>
</body>
</html>
