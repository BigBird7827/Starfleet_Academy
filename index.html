<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Starfleet Academy</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
:root { --gold:#ffd84d; }
html,body{height:100%;}
body{
margin:0;padding:0;
font-family:'Roboto',sans-serif;
background-color:#000;
color:var(--gold);
min-height:100vh;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
}
.page-title{
margin-bottom:30px;
font-family:'Orbitron',sans-serif;
font-size:42pt;color:gold;text-align:center;
}
.container{
background:rgba(0,0,0,0.8);
padding:20px 30px;
border-radius:12px;
box-shadow:0 0 20px var(--gold);
width:900px;
max-width:90%;
margin:0 auto;
text-align:center;
}
button{
background:linear-gradient(to bottom,#1e3c72,#000);
color:var(--gold);font-weight:bold;
border:2px solid var(--gold);cursor:pointer;
box-shadow:inset 0 2px 5px rgba(255,255,255,.3),0 5px 15px rgba(0,0,0,.6);
font-family:'Roboto',sans-serif;
border-radius:8px;
padding:12px 20px;font-size:16pt;margin:10px;
}
button:hover{background:linear-gradient(to bottom,#2a5298,#111);transform:translateY(-2px);}
#mainScreen,#orientationPage,#trainingPage,#labPage{display:none;}
.active{display:block;}
#mainScreen.active{display:flex;flex-direction:column;align-items:center;justify-content:center;}
.feedback{
margin-top:15px;
padding:15px;
background:rgba(255,255,255,0.1);
border-radius:8px;
color:#fff;
font-size:14pt;
}
.answers button{display:block;width:100%;margin-top:10px;}
.return-btn{padding:10px 25px;font-size:14pt;width:auto;margin-top:20px;}
</style>
</head>
<body>
<div id="mainScreen" class="active">
<div class="page-title">Welcome to Starfleet Academy</div>
<div class="container">
<p style="font-size:18pt;">Select your training path:</p>
<button id="enterTraining">Enter Training</button>
<button id="enterLab">Enter Lab</button>
</div>
</div>

<div id="orientationPage">
<div class="page-title" id="orientationTitle"></div>
<div class="container" id="moduleButtons"></div>
<button class="return-btn" id="returnMain">Return to Main</button>
</div>

<div id="trainingPage">
<div class="page-title" id="trainingDeptTitle"></div>
<div class="container" id="trainingContent"></div>
<button class="return-btn" id="returnOrientation1">Back to Departments</button>
</div>

<div id="labPage">
<div class="page-title" id="labDeptTitle"></div>
<div class="container" id="labContent"></div>
<button class="return-btn" id="returnOrientation2">Back to Departments</button>
</div>

<script>
const trainingFiles={
"Command":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Command%20Training.json",
"Diplomacy":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Diplomacy%20Training.json",
"Engineering":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Engineering%20Training.json",
"Science":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Science%20Training.json",
"Medical":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Medical%20Training.json",
"Security":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Security%20Training.json"
};
const labFiles={
"Command":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Command%20Lab.json",
"Diplomacy":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Diplomacy%20Lab.json",
"Engineering":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Engineering%20Lab.json",
"Security":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Security%20Lab.json",
"Science":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Science%20Lab.json",
"Medical":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Medical%20Lab.json"
};

let currentMode="training";
document.getElementById("enterTraining").onclick=()=>{currentMode="training";showOrientation();};
document.getElementById("enterLab").onclick=()=>{currentMode="lab";showOrientation();};

function showOrientation(){
document.getElementById("mainScreen").classList.remove("active");
document.getElementById("orientationPage").classList.add("active");
document.getElementById("orientationTitle").textContent=currentMode==="training"?"Select a Department for Training":"Select a Department for Lab";
const btnBox=document.getElementById("moduleButtons");
btnBox.innerHTML="";
const source=currentMode==="training"?trainingFiles:labFiles;
Object.keys(source).forEach(dept=>{
const b=document.createElement("button");
b.textContent=dept;
b.onclick=()=>{currentMode==="training"?loadTraining(dept):loadLab(dept);};
btnBox.appendChild(b);
});
}

function loadTraining(dept){
document.getElementById("orientationPage").classList.remove("active");
document.getElementById("trainingPage").classList.add("active");
document.getElementById("trainingDeptTitle").textContent=`${dept} Training`;
fetch(trainingFiles[dept])
.then(r=>r.json())
.then(data=>{
const content=document.getElementById("trainingContent");
content.innerHTML="";
if(data.study){
data.study.forEach(item=>{
const section=document.createElement("div");
section.innerHTML=`<h3>${item.scenario}</h3><p>${item.summary}</p>`;
if(item.answers){
item.answers.forEach(ans=>{
section.innerHTML+=`<p><strong>${ans.type==="best"?"‚≠ê Best Answer":"Alternate Answer"}:</strong> ${ans.text}<br><em>Score:</em> ${ans.score}<br>${ans.details||""}</p>`;
});
}
content.appendChild(section);
});
}
});
}

function loadLab(dept){
document.getElementById("orientationPage").classList.remove("active");
document.getElementById("labPage").classList.add("active");
document.getElementById("labDeptTitle").textContent=`${dept} Lab`;
fetch(labFiles[dept])
.then(r=>r.json())
.then(data=>{
const content=document.getElementById("labContent");
content.innerHTML="";
if(data.lab&&data.lab.length>0){
let index=0,score=0;
showScenario();
function showScenario(){
const item=data.lab[index];
content.innerHTML=`<h3>${item.scenario}</h3><p>${item.summary}</p>`;
const answersDiv=document.createElement("div");
answersDiv.className="answers";
item.answers.forEach(ans=>{
const btn=document.createElement("button");
btn.textContent=ans.text;
btn.onclick=()=>evaluate(ans,item,btn);
answersDiv.appendChild(btn);
});
content.appendChild(answersDiv);
}
function evaluate(ans,item,btn){
document.querySelectorAll(".answers button").forEach(b=>b.disabled=true);
let feedback=document.createElement("div");
feedback.className="feedback";
if(ans.type==="best"){
feedback.innerHTML=`<strong>Correct.</strong> ${ans.details}`;
score+=ans.score;
}else if(ans.type==="alternate"){
feedback.innerHTML=`<strong>Acceptable.</strong> ${ans.details}<br><br>The best action would have been:<br><em>${item.answers.find(a=>a.type==="best").text}</em>`;
score+=ans.score;
}else{
feedback.innerHTML=`<strong>Incorrect.</strong> ${ans.details}<br><br>The correct course of action:<br><em>${item.answers.find(a=>a.type==="best").text}</em>`;
}
content.appendChild(feedback);
const nextBtn=document.createElement("button");
nextBtn.textContent=index<data.lab.length-1?"Next Scenario":"Finish Lab";
nextBtn.onclick=()=>{
index++;
if(index<data.lab.length){showScenario();}
else{content.innerHTML=`<h2>Lab Complete</h2><p>Your total performance score: ${score}</p>`;}
};
content.appendChild(nextBtn);
}
}
});
}

document.getElementById("returnMain").onclick=()=>{
document.querySelectorAll("div").forEach(d=>d.classList.remove("active"));
document.getElementById("mainScreen").classList.add("active");
};
document.getElementById("returnOrientation1").onclick=()=>{
document.getElementById("trainingPage").classList.remove("active");
document.getElementById("orientationPage").classList.add("active");
};
document.getElementById("returnOrientation2").onclick=()=>{
document.getElementById("labPage").classList.remove("active");
document.getElementById("orientationPage").classList.add("active");
};
</script>
</body>
</html>
