<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Starfleet Academy</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{--gold:#ffd84d;}
body,html{height:100%;margin:0;padding:0;background:#000;font-family:'Roboto',sans-serif;color:var(--gold);}
.page-title{margin:30px 0;text-align:center;font-family:'Orbitron',sans-serif;font-size:36pt;color:gold;}
.container{background:rgba(0,0,0,0.85);padding:25px 30px;border-radius:12px;box-shadow:0 0 20px var(--gold);width:900px;margin:0 auto;text-align:left;}
label{display:block;margin:12px 0 5px;}
input,select,button{width:100%;padding:8px;margin-bottom:15px;border:none;border-radius:6px;}
input,select{background:#333;color:#fff;}
button{background:linear-gradient(to bottom,#1e3c72,#000);color:var(--gold);font-weight:bold;border:2px solid var(--gold);cursor:pointer;box-shadow:inset 0 2px 5px rgba(255,255,255,.3),0 5px 15px rgba(0,0,0,.6);}
button:hover{background:linear-gradient(to bottom,#2a5298,#111);transform:translateY(-2px);}
.corner-image{position:fixed;width:2.5in;height:2.5in;top:10px;object-fit:contain;z-index:0;pointer-events:none;}
.corner-left{left:10px;} .corner-right{right:10px;}
.orientation-root{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;margin:0 auto;}
.orientation-title{font-family:'Orbitron',sans-serif;font-size:32pt;margin-top:60px;margin-bottom:20px;text-align:center;color:gold;}
.orientation-text{max-width:800px;margin:0 auto 40px auto;padding:0 20px;font-size:16pt;line-height:1.5em;text-align:center;}
.button-box{margin-top:30px;display:grid;grid-template-columns:1fr 1fr;gap:20px;background:rgba(0,0,0,0.4);padding:30px;border-radius:12px;box-shadow:0 0 15px var(--gold);}
.button-box button{font-size:20pt;padding:15px 25px;border-radius:12px;width:100%;}
.return-btn{padding:10px 25px;font-size:14pt;width:auto;margin-top:20px;}
.training-title{font-family:'Orbitron',sans-serif;font-size:28pt;margin-bottom:10px;text-align:center;color:gold;}
.training-section{margin-bottom:25px;padding-bottom:15px;border-bottom:1px solid #444;}
.training-section h3{font-size:15pt;margin-bottom:10px;color:var(--gold);}
.training-section p{font-size:14pt;line-height:1.6em;margin:0 0 10px 0;color:#fff;}
.answers{margin-left:20px;}
.answer-block{margin-bottom:15px;padding:10px;background:rgba(255,255,255,0.05);border-radius:8px;}
.answer-block strong{color:#00ffcc;}
.fixed-return{position:fixed;bottom:20px;left:10px;z-index:1000;width:auto;}
#examScoreboard{position:fixed;top:20px;right:20px;width:250px;background:rgba(0,0,0,0.7);border:2px solid var(--gold);border-radius:10px;padding:10px;box-shadow:0 0 10px var(--gold);color:white;font-size:12pt;}
#examScoreboard h3{text-align:center;font-family:'Orbitron',sans-serif;font-size:16pt;color:var(--gold);margin:5px 0;}
#examScoreboard table{width:100%;border-collapse:collapse;}
#examScoreboard td{padding:3px;color:white;}
#examScoreboard tr.highlight td{color:var(--gold);font-weight:bold;}
</style>
</head>
<body>
<div id="loginScreen">
<div class="page-title">Welcome to Starfleet Academy</div>
<div class="container">
<label for="cadetName">Cadet Name</label>
<input type="text" id="cadetName" required>
<label for="species">Species</label>
<select id="species" required>
<option value="">-- Select Species --</option>
<option>Human</option><option>Vulcan</option><option>Andorian</option><option>Tellarite</option>
<option>Bajoran</option><option>Betazoid</option><option>Bolian</option><option>Trill</option>
<option>Klingon</option><option>Ferengi</option><option>Denobulan</option><option>Orion</option>
<option>Caitian</option><option>Benzite</option>
</select>
<button id="loginBtn">Login</button>
<p id="accessMessage" style="text-align:center;color:var(--gold);opacity:0;">Access Granted</p>
</div>
</div>

<div id="mainScreen" style="display:none;">
<img src="https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Starfleet%20Academy%20Orientation.png" class="corner-image corner-left" alt="">
<img src="https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Starfleet%20Academy%20Orientation.png" class="corner-image corner-right" alt="">
<div class="page-title">Welcome to Starfleet Academy</div>
<div class="container" style="text-align:center;">
<p>Congratulations, Cadet. You have been accepted into Starfleet Academy, where the finest minds of the Federation prepare to serve in the vast frontier of space. Here, you will learn the disciplines of command, diplomacy, science, engineering, medicine, and security — each a vital pillar in the exploration and defense of the Federation.</p>
<p>Choose your path and begin your training or participate in interactive labs and exams to test your readiness for active duty.</p>
<div style="margin-top:30px;">
<button id="trainingBtn" style="width:45%;font-size:18pt;">Training Modules</button>
<button id="labBtn" style="width:45%;font-size:18pt;">Laboratories</button>
<button id="examBtn" style="width:45%;font-size:18pt;">Examinations</button>
</div>
</div>
</div>

<div id="orientationPage" style="display:none;">
<img src="https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Starfleet%20Academy%20Orientation.png" class="corner-image corner-left" alt="">
<img src="https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Starfleet%20Academy%20Orientation.png" class="corner-image corner-right" alt="">
<div class="orientation-root">
<div class="orientation-title" id="orientationTitle"></div>
<div class="orientation-text">Select a department to begin your module.</div>
<div class="button-box" id="moduleButtons"></div>
<button class="return-btn" id="returnMain">Return to Main</button>
</div>
</div>
<div id="trainingPage" style="display:none;">
<div class="page-title" id="trainingDeptTitle"></div>
<div style="text-align:center;color:var(--gold);margin-bottom:10px;" id="trainingCadetTitle"></div>
<div class="container" id="trainingContent"></div>
<button class="return-btn fixed-return" id="returnOrientation1">Back to Departments</button>
</div>

<div id="labPage" style="display:none;">
<div class="page-title" id="labDeptTitle"></div>
<div style="text-align:center;color:var(--gold);margin-bottom:10px;" id="labCadetTitle"></div>
<div class="container" id="labContent"></div>
<button class="return-btn fixed-return" id="returnOrientation2">Back to Departments</button>
</div>

<div id="examPage" style="display:none;">
<div class="page-title" id="examDeptTitle"></div>
<div style="text-align:center;color:var(--gold);margin-bottom:10px;" id="examCadetTitle"></div>
<div id="examScoreboard">
<h3>Class Rankings</h3>
<table id="rankingTable"></table>
</div>
<div class="container" id="examContent"></div>
<button class="return-btn fixed-return" id="returnOrientation3">Back to Departments</button>
</div>

<script>
let cadetName="",species="",homeworld="";
document.getElementById("loginBtn").onclick=()=>{
cadetName=document.getElementById("cadetName").value.trim();
species=document.getElementById("species").value.trim();
if(!cadetName||!species)return;
const homeworlds={"Human":"Earth","Vulcan":"Vulcan","Andorian":"Andoria","Tellarite":"Tellar Prime","Bajoran":"Bajor","Betazoid":"Betazed","Bolian":"Bolarus IX","Trill":"Trill","Klingon":"Qo'noS","Ferengi":"Ferenginar","Denobulan":"Denobula","Orion":"Orion","Caitian":"Cait","Benzite":"Benzar"};
homeworld=homeworlds[species]||species;
const msg=document.getElementById("accessMessage");
msg.textContent=`Access Granted — Welcome, Cadet ${cadetName} of ${homeworld}`;
msg.style.opacity=1;
const login=document.getElementById("loginScreen");
login.style.transition="opacity 3s ease";login.style.opacity=0;
setTimeout(()=>{login.style.display="none";document.getElementById("mainScreen").style.display="block";},3000);
};

document.getElementById("trainingBtn").onclick=()=>showOrientation("training");
document.getElementById("labBtn").onclick=()=>showOrientation("lab");
document.getElementById("examBtn").onclick=()=>showOrientation("exam");

const trainingFiles={
"Command":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Command%20Training.json",
"Diplomacy":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Diplomacy%20Training.json",
"Engineering":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Engineering%20Training.json",
"Security":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Security%20Training.json",
"Science":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Science%20Training.json",
"Medical":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Medical%20Training.json"};
const labFiles={
"Command":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Command%20Lab.json",
"Diplomacy":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Diplomacy%20Lab.json",
"Engineering":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Engineering%20Lab.json",
"Security":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Security%20Lab.json",
"Science":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Science%20Lab.json",
"Medical":"https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Medical%20Lab.json"};

function showOrientation(mode){
document.getElementById("mainScreen").style.display="none";
document.getElementById("orientationPage").style.display="block";
const title=document.getElementById("orientationTitle");
title.textContent=mode==="training"?"Training Modules":mode==="lab"?"Laboratories":"Examinations";
const box=document.getElementById("moduleButtons");box.innerHTML="";
Object.keys(trainingFiles).forEach(dept=>{
const b=document.createElement("button");
b.textContent=dept;
b.onclick=()=>{if(mode==="training")loadTraining(dept);else if(mode==="lab")loadLab(dept);else loadExam(dept);};
box.appendChild(b);
});
}
function loadTraining(dept){
document.getElementById("orientationPage").style.display="none";
document.getElementById("trainingPage").style.display="block";
document.getElementById("trainingDeptTitle").textContent=`${dept} Training`;
document.getElementById("trainingCadetTitle").textContent=`Cadet ${cadetName} of ${homeworld}`;
fetch(trainingFiles[dept]).then(r=>r.json()).then(data=>{
const content=document.getElementById("trainingContent");content.innerHTML="";
if(data.preface){content.innerHTML+=`<p>${data.preface}</p>`;}
if(data.study){data.study.forEach(item=>{
const section=document.createElement("div");section.className="training-section";
let html=`<h3>${item.scenario}</h3><p>${item.summary||""}</p>`;
if(item.answers){html+=`<div class="answers">`;item.answers.forEach(ans=>{
const label=ans.type==="best"?"⭐ Best Answer":"Alternate Answer";
html+=`<div class="answer-block"><p><strong>${label}:</strong> ${ans.text}</p><p><em>Score:</em> ${ans.score}</p><p>${ans.details||""}</p></div>`;
});html+=`</div>`;}
section.innerHTML=html;content.appendChild(section);
});}});
}

function loadLab(dept){
document.getElementById("orientationPage").style.display="none";
document.getElementById("labPage").style.display="block";
document.getElementById("labDeptTitle").textContent=`${dept} Lab`;
document.getElementById("labCadetTitle").textContent=`Cadet ${cadetName} of ${homeworld}`;
fetch(labFiles[dept]).then(r=>r.json()).then(data=>{
const content=document.getElementById("labContent");content.innerHTML="";
if(!(data.lab&&data.lab.length)){content.innerHTML="<p>No lab scenarios found.</p>";return;}
let index=0,score=0;
function renderScenario(){
const item=data.lab[index];
content.innerHTML=`<div class='training-section'><h3>${item.scenario}</h3><p>${item.summary||""}</p></div>`;
const answersDiv=document.createElement("div");answersDiv.className="answers";
item.answers.forEach(ans=>{
const btn=document.createElement("button");
btn.textContent=ans.text;
btn.onclick=()=>evaluate(ans,item);
answersDiv.appendChild(btn);
});
content.appendChild(answersDiv);
}
function evaluate(ans,item){
document.querySelectorAll("#labContent .answers button").forEach(b=>b.disabled=true);
const best=item.answers.find(a=>a.type==="best");
const feedback=document.createElement("div");feedback.className="feedback";
if(ans.type==="best"){feedback.innerHTML=`<strong>Correct.</strong> ${ans.details}`;score+=ans.score;}
else if(ans.type==="alternate"){feedback.innerHTML=`<strong>Acceptable.</strong> ${ans.details}<br><br>The best action would have been:<br><em>${best.text}</em>`;score+=ans.score;}
else{feedback.innerHTML=`<strong>Incorrect.</strong> ${ans.details}<br><br>The correct course of action:<br><em>${best.text}</em>`;}
content.appendChild(feedback);
const next=document.createElement("button");
next.textContent=index<data.lab.length-1?"Next Scenario":"Finish Lab";
next.onclick=()=>{index++;if(index<data.lab.length){renderScenario();}else{content.innerHTML=`<h3>Lab Complete</h3><p>Your final score: ${score}</p>`;}};
content.appendChild(next);
}
renderScenario();
});
}

function loadExam(dept){
document.getElementById("orientationPage").style.display="none";
document.getElementById("examPage").style.display="block";
document.getElementById("examDeptTitle").textContent=`${dept} Exam`;
document.getElementById("examCadetTitle").textContent=`Cadet ${cadetName} of ${homeworld}`;
let classmates=[{name:cadetName,species,s:true,gpa:0,score:0}];
const poolNames=["T'Lor","Dax","Nog","Paris","Vorik","Ro","O'Brien","Leeta","Torres"];
const poolSpecies=["Vulcan","Trill","Ferengi","Human","Vulcan","Bajoran","Human","Bajoran","Klingon"];
for(let i=0;i<9;i++){classmates.push({name:poolNames[i],species:poolSpecies[i],s:false,gpa:(Math.random()*1.6+2.4).toFixed(2),score:0});}
const table=document.getElementById("rankingTable");
function updateRankings(){
classmates.sort((a,b)=>b.gpa-a.gpa);
table.innerHTML=classmates.map((c,i)=>`<tr class='${c.s?"highlight":""}'><td>${i+1}.</td><td>${c.s?"You":c.name}</td><td>${parseFloat(c.gpa).toFixed(2)}</td></tr>`).join("");
}
updateRankings();
fetch(trainingFiles[dept]).then(r=>r.json()).then(data=>{
const questions=data.study.slice(0,15);
let index=0,total=0;
const content=document.getElementById("examContent");
function renderQuestion(){
const q=questions[index];
content.innerHTML=`<div class='training-section'><h3>${q.scenario}</h3><p>${q.summary||""}</p></div>`;
const answersDiv=document.createElement("div");answersDiv.className="answers";
let allAnswers=[...q.answers];
if(allAnswers.length<5){allAnswers.push({text:"Reroute main deflector through EPS grid.",score:0,type:"wrong",details:"This course of action would destabilize the system."});allAnswers.push({text:"Ignore the situation and await orders.",score:0,type:"wrong",details:"Inaction in crisis situations is unacceptable in Starfleet."});}
allAnswers.sort(()=>Math.random()-0.5);
allAnswers.forEach(a=>{
const btn=document.createElement("button");
btn.textContent=a.text;
btn.onclick=()=>evaluate(a,q);
answersDiv.appendChild(btn);
});
content.appendChild(answersDiv);
}
function evaluate(ans,q){
document.querySelectorAll("#examContent .answers button").forEach(b=>b.disabled=true);
const best=q.answers.find(a=>a.type==="best");
const feedback=document.createElement("div");
if(ans.type==="best"){feedback.innerHTML=`<strong>Correct.</strong> ${ans.details}`;total+=ans.score;}
else if(ans.type==="alternate"){feedback.innerHTML=`<strong>Acceptable.</strong> ${ans.details}<br><br>The best answer was:<br><em>${best.text}</em>`;total+=ans.score;}
else{feedback.innerHTML=`<strong>Incorrect.</strong> ${ans.details}<br><br>The correct response was:<br><em>${best.text}</em>`;}
content.appendChild(feedback);
const gpa=(total/((index+1)*10)*4).toFixed(2);
classmates.find(c=>c.s).gpa=gpa;
updateRankings();
const next=document.createElement("button");
next.textContent=index<questions.length-1?"Next Question":"Finish Exam";
next.onclick=()=>{index++;if(index<questions.length){renderQuestion();}else{content.innerHTML=`<h3>Exam Complete</h3><p>Your total score: ${total}<br>Your final GPA: ${gpa}</p>`;}};
content.appendChild(next);
}
renderQuestion();
});
}

document.getElementById("returnMain").onclick=()=>{document.getElementById("orientationPage").style.display="none";document.getElementById("mainScreen").style.display="block";};
document.getElementById("returnOrientation1").onclick=()=>{document.getElementById("trainingPage").style.display="none";document.getElementById("orientationPage").style.display="block";};
document.getElementById("returnOrientation2").onclick=()=>{document.getElementById("labPage").style.display="none";document.getElementById("orientationPage").style.display="block";};
document.getElementById("returnOrientation3").onclick=()=>{document.getElementById("examPage").style.display="none";document.getElementById("orientationPage").style.display="block";};
</script>
</body>
</html>
