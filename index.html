    function loadTraining(dept) {
      document.getElementById("orientationPage").style.display = "none";
      document.getElementById("trainingPage").style.display = "block";
      const content = document.getElementById("trainingContent");
      content.innerHTML = "<p>Loading...</p>";
      document.getElementById("trainingDeptTitle").textContent = dept + " Training";
      document.getElementById("trainingCadetInfo").textContent = `Cadet ${cadetName} of ${homeworlds[species]}`;
      fetch(trainingFiles[dept])
        .then(r => r.json())
        .then(data => {
          content.innerHTML = "";
          if (data.study) {
            data.study.forEach(item => {
              const section = document.createElement("div");
              section.className = "training-section";
              section.innerHTML = `<h3>${item.scenario}</h3><p>${item.summary}</p>`;
              const answersDiv = document.createElement("div");
              answersDiv.className = "answers";
              item.answers.forEach(ans => {
                const block = document.createElement("div");
                block.className = "answer-block";
                block.innerHTML = `<p><strong>${ans.type === "best" ? "⭐ Best Answer" : "Alternate Answer"}:</strong> ${ans.text}</p><p>${ans.details}</p>`;
                answersDiv.appendChild(block);
              });
              section.appendChild(answersDiv);
              content.appendChild(section);
            });
          }
        });
    }

    function loadLab(dept) {
      document.getElementById("orientationPage").style.display = "none";
      document.getElementById("labPage").style.display = "block";
      const content = document.getElementById("labContent");
      content.innerHTML = "<p>Loading...</p>";
      document.getElementById("labDeptTitle").textContent = dept + " Lab";
      document.getElementById("labCadetInfo").textContent = `Cadet ${cadetName} of ${homeworlds[species]}`;
      fetch(labFiles[dept])
        .then(r => r.json())
        .then(data => {
          content.innerHTML = "";
          if (data.lab) {
            data.lab.forEach(item => {
              const section = document.createElement("div");
              section.className = "training-section";
              section.innerHTML = `<h3>${item.scenario}</h3><p>${item.summary}</p>`;
              const answersDiv = document.createElement("div");
              answersDiv.className = "answers";
              item.answers.forEach(ans => {
                const block = document.createElement("div");
                block.className = "answer-block";
                block.innerHTML = `<p><strong>${ans.text}</strong></p>`;
                answersDiv.appendChild(block);
              });
              section.appendChild(answersDiv);
              content.appendChild(section);
            });
          }
        });
    }

    function loadExam(dept) {
      document.getElementById("orientationPage").style.display = "none";
      document.getElementById("examPage").style.display = "block";
      document.getElementById("examDeptTitle").textContent = dept + " Exam";
      document.getElementById("examCadetInfo").textContent = `Cadet ${cadetName} of ${homeworlds[species]}`;

      const content = document.getElementById("examContent");
      const table = document.getElementById("cadetTable");
      const progress = document.getElementById("examProgress");

      const cadets = Array.from({ length: 9 }, (_, i) => ({
        name: "Cadet " + String.fromCharCode(66 + i),
        gpa: (Math.random() * 0.4 + 3.5).toFixed(2)
      }));
      let player = { name: cadetName, gpa: 0.00 };
      let questionsAnswered = 0;

      function updateScoreboard() {
        const all = [...cadets, player].sort((a, b) => b.gpa - a.gpa);
        table.innerHTML = all.map(c => `
          <tr class="${c.name === player.name ? 'highlight' : ''}">
            <td>${c.name}</td><td style="text-align:right;">${c.gpa}</td>
          </tr>
        `).join("");
        progress.textContent = "Questions Answered: " + questionsAnswered;
      }

      fetch(examFiles[dept])
        .then(r => r.json())
        .then(data => {
          const questions = data.study.slice(0, 15);
          let index = 0;
          content.innerHTML = "";
          function showNext() {
            if (index >= questions.length) {
              content.innerHTML = "<h3>Exam complete!</h3>";
              updateScoreboard();
              return;
            }
            const q = questions[index];
            const div = document.createElement("div");
            div.className = "training-section";
            div.innerHTML = `<h3>${q.scenario}</h3><p>${q.summary}</p>`;
            q.answers.forEach(ans => {
              const b = document.createElement("button");
              b.textContent = ans.text;
              b.onclick = () => {
                questionsAnswered++;
                if (ans.type === "best") player.gpa += 0.26;
                else if (ans.type === "alternate") player.gpa += 0.20;
                else player.gpa += 0.05;
                player.gpa = Math.min(player.gpa, 4.0);
                index++;
                updateScoreboard();
                showNext();
              };
              div.appendChild(b);
            });
            content.innerHTML = "";
            content.appendChild(div);
          }
          updateScoreboard();
          showNext();
        });
    }
  </script>
</body>
</html>
  <div id="orientationPage" style="display:none;">
    <img src="https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Starfleet%20Academy%20Orientation.png" class="corner-image corner-left" alt="">
    <img src="https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Starfleet%20Academy%20Orientation.png" class="corner-image corner-right" alt="">
    <div class="orientation-root">
      <div class="orientation-title">Starfleet Orientation</div>
      <div class="orientation-text">
        Select a department to begin your training, lab, or exam. Each department
        challenges you to demonstrate your skills in leadership, analysis,
        problem-solving, and Federation values.
      </div>
      <div class="button-box" id="moduleButtons"></div>
      <button class="return-btn" id="returnMain">Return to Main</button>
    </div>
  </div>

  <div id="trainingPage" style="display:none;">
    <img src="https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Starfleet%20Academy%20Orientation.png" class="corner-image corner-left" alt="">
    <img src="https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Starfleet%20Academy%20Orientation.png" class="corner-image corner-right" alt="">
    <div class="page-title" id="trainingDeptTitle"></div>
    <div style="text-align:center;color:var(--gold);font-size:18pt;" id="trainingCadetInfo"></div>
    <div class="container" id="trainingContent" style="width:900px;margin:0 auto;"></div>
    <button class="return-btn fixed-return" id="returnOrientation">Back to Departments</button>
  </div>

  <div id="labPage" style="display:none;">
    <img src="https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Starfleet%20Academy%20Orientation.png" class="corner-image corner-left" alt="">
    <img src="https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Starfleet%20Academy%20Orientation.png" class="corner-image corner-right" alt="">
    <div class="page-title" id="labDeptTitle"></div>
    <div style="text-align:center;color:var(--gold);font-size:18pt;" id="labCadetInfo"></div>
    <div class="container" id="labContent" style="width:900px;margin:0 auto;"></div>
    <button class="return-btn fixed-return" id="returnOrientationLab">Back to Departments</button>
  </div>

  <div id="examPage" style="display:none;">
    <div id="examScoreboard">
      <h3>Class Rankings</h3>
      <div id="examProgress">Questions Answered: 0</div>
      <table id="cadetTable"></table>
    </div>
    <div class="page-title" id="examDeptTitle"></div>
    <div style="text-align:center;color:var(--gold);font-size:18pt;" id="examCadetInfo"></div>
    <div class="container" id="examContent" style="width:900px;margin:0 auto;"></div>
    <button class="return-btn fixed-return" id="returnOrientationExam">Back to Departments</button>
  </div>

  <script>
    const trainingFiles = {
      "Command": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Command%20Training.json",
      "Diplomacy": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Diplomacy%20Training.json",
      "Engineering": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Engineering%20Training.json",
      "Security": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Security%20Training.json",
      "Science": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Science%20Training.json",
      "Medical": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Medical%20Training.json"
    };

    const labFiles = {
      "Command": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Command%20Lab.json",
      "Diplomacy": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Diplomacy%20Lab.json",
      "Engineering": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Engineering%20Lab.json",
      "Security": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Security%20Lab.json",
      "Science": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Science%20Lab.json",
      "Medical": "https://raw.githubusercontent.com/BigBird7827/Starfleet_Academy/main/Medical%20Lab.json"
    };

    const examFiles = { ...trainingFiles };

    let cadetName = "";
    let species = "";

    const homeworlds = {
      "Human": "Earth", "Vulcan": "Vulcan", "Andorian": "Andoria", "Tellarite": "Tellar Prime",
      "Bajoran": "Bajor", "Betazoid": "Betazed", "Bolian": "Bolarus IX", "Trill": "Trill",
      "Klingon": "Qo'noS", "Ferengi": "Ferenginar", "Denobulan": "Denobula", "Orion": "Orion",
      "Caitian": "Cait", "Benzite": "Benzar"
    };

    document.getElementById("loginBtn").addEventListener("click", () => {
      cadetName = document.getElementById("cadetName").value.trim();
      species = document.getElementById("species").value;
      if (!cadetName || !species) return alert("Enter name and species first.");
      const msg = document.getElementById("accessMessage");
      msg.style.opacity = 1;
      setTimeout(() => {
        msg.style.opacity = 0;
        document.getElementById("loginScreen").style.transition = "opacity 5s";
        document.getElementById("loginScreen").style.opacity = 0;
        setTimeout(() => {
          document.getElementById("loginScreen").style.display = "none";
          const mainWelcome = document.getElementById("mainWelcome");
          mainWelcome.textContent = `Welcome, Cadet ${cadetName} of ${homeworlds[species]}.`;
          document.getElementById("mainScreen").style.display = "block";
        }, 5000);
      }, 1500);
    });

    document.getElementById("trainingBtn").addEventListener("click", () => openOrientation("training"));
    document.getElementById("labBtn").addEventListener("click", () => openOrientation("lab"));
    document.getElementById("examBtn").addEventListener("click", () => openOrientation("exam"));

    function openOrientation(mode) {
      document.getElementById("mainScreen").style.display = "none";
      const btnBox = document.getElementById("moduleButtons");
      btnBox.innerHTML = "";
      Object.keys(trainingFiles).forEach(dept => {
        const b = document.createElement("button");
        b.textContent = dept;
        b.onclick = () => {
          if (mode === "training") loadTraining(dept);
          else if (mode === "lab") loadLab(dept);
          else loadExam(dept);
        };
        btnBox.appendChild(b);
      });
      document.getElementById("orientationPage").style.display = "block";
    }

    document.getElementById("returnMain").onclick = () => {
      document.getElementById("orientationPage").style.display = "none";
      document.getElementById("mainScreen").style.display = "block";
    };

    document.getElementById("returnOrientation").onclick = () => {
      document.getElementById("trainingPage").style.display = "none";
      document.getElementById("orientationPage").style.display = "block";
    };

    document.getElementById("returnOrientationLab").onclick = () => {
      document.getElementById("labPage").style.display = "none";
      document.getElementById("orientationPage").style.display = "block";
    };

    document.getElementById("returnOrientationExam").onclick = () => {
      document.getElementById("examPage").style.display = "none";
      document.getElementById("orientationPage").style.display = "block";
    };
    function loadTraining(dept) {
      document.getElementById("orientationPage").style.display = "none";
      document.getElementById("trainingPage").style.display = "block";
      const content = document.getElementById("trainingContent");
      content.innerHTML = "<p>Loading...</p>";
      document.getElementById("trainingDeptTitle").textContent = dept + " Training";
      document.getElementById("trainingCadetInfo").textContent = `Cadet ${cadetName} of ${homeworlds[species]}`;
      fetch(trainingFiles[dept])
        .then(r => r.json())
        .then(data => {
          content.innerHTML = "";
          if (data.study) {
            data.study.forEach(item => {
              const section = document.createElement("div");
              section.className = "training-section";
              section.innerHTML = `<h3>${item.scenario}</h3><p>${item.summary}</p>`;
              const answersDiv = document.createElement("div");
              answersDiv.className = "answers";
              item.answers.forEach(ans => {
                const block = document.createElement("div");
                block.className = "answer-block";
                block.innerHTML = `<p><strong>${ans.type === "best" ? "⭐ Best Answer" : "Alternate Answer"}:</strong> ${ans.text}</p><p>${ans.details}</p>`;
                answersDiv.appendChild(block);
              });
              section.appendChild(answersDiv);
              content.appendChild(section);
            });
          }
        });
    }

    function loadLab(dept) {
      document.getElementById("orientationPage").style.display = "none";
      document.getElementById("labPage").style.display = "block";
      const content = document.getElementById("labContent");
      content.innerHTML = "<p>Loading...</p>";
      document.getElementById("labDeptTitle").textContent = dept + " Lab";
      document.getElementById("labCadetInfo").textContent = `Cadet ${cadetName} of ${homeworlds[species]}`;
      fetch(labFiles[dept])
        .then(r => r.json())
        .then(data => {
          content.innerHTML = "";
          if (data.lab) {
            data.lab.forEach(item => {
              const section = document.createElement("div");
              section.className = "training-section";
              section.innerHTML = `<h3>${item.scenario}</h3><p>${item.summary}</p>`;
              const answersDiv = document.createElement("div");
              answersDiv.className = "answers";
              item.answers.forEach(ans => {
                const block = document.createElement("div");
                block.className = "answer-block";
                block.innerHTML = `<p><strong>${ans.text}</strong></p>`;
                answersDiv.appendChild(block);
              });
              section.appendChild(answersDiv);
              content.appendChild(section);
            });
          }
        });
    }

    function loadExam(dept) {
      document.getElementById("orientationPage").style.display = "none";
      document.getElementById("examPage").style.display = "block";
      document.getElementById("examDeptTitle").textContent = dept + " Exam";
      document.getElementById("examCadetInfo").textContent = `Cadet ${cadetName} of ${homeworlds[species]}`;

      const content = document.getElementById("examContent");
      const table = document.getElementById("cadetTable");
      const progress = document.getElementById("examProgress");

      const cadets = Array.from({ length: 9 }, (_, i) => ({
        name: "Cadet " + String.fromCharCode(66 + i),
        gpa: (Math.random() * 0.4 + 3.5).toFixed(2)
      }));
      let player = { name: cadetName, gpa: 0.00 };
      let questionsAnswered = 0;

      function updateScoreboard() {
        const all = [...cadets, player].sort((a, b) => b.gpa - a.gpa);
        table.innerHTML = all.map(c => `
          <tr class="${c.name === player.name ? 'highlight' : ''}">
            <td>${c.name}</td><td style="text-align:right;">${c.gpa}</td>
          </tr>
        `).join("");
        progress.textContent = "Questions Answered: " + questionsAnswered;
      }

      fetch(examFiles[dept])
        .then(r => r.json())
        .then(data => {
          const questions = data.study.slice(0, 15);
          let index = 0;
          content.innerHTML = "";
          function showNext() {
            if (index >= questions.length) {
              content.innerHTML = "<h3>Exam complete!</h3>";
              updateScoreboard();
              return;
            }
            const q = questions[index];
            const div = document.createElement("div");
            div.className = "training-section";
            div.innerHTML = `<h3>${q.scenario}</h3><p>${q.summary}</p>`;
            q.answers.forEach(ans => {
              const b = document.createElement("button");
              b.textContent = ans.text;
              b.onclick = () => {
                questionsAnswered++;
                if (ans.type === "best") player.gpa += 0.26;
                else if (ans.type === "alternate") player.gpa += 0.20;
                else player.gpa += 0.05;
                player.gpa = Math.min(player.gpa, 4.0);
                index++;
                updateScoreboard();
                showNext();
              };
              div.appendChild(b);
            });
            content.innerHTML = "";
            content.appendChild(div);
          }
          updateScoreboard();
          showNext();
        });
    }
  </script>
</body>
</html>
